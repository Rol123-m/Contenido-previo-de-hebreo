<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alfabeto Hebreo Bíblico - Experiencia Interactiva</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #8f1a1a;
            --secondary: #2e7d32;
            --accent: #ff9800;
            --success: #4cc9f0;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --light-bg: #f1f5f9;
            --card-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            color: var(--dark);
            line-height: 1.6;
            background: linear-gradient(135deg, #f5f7fa 0%, #e8f4f1 100%);
            min-height: 100vh;
            overflow-x: hidden;
            direction: ltr;
        }

        .lesson-content-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }

        /* Header con animación */
        .lesson-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, var(--primary), #6b1313);
            color: white;
            border-radius: 20px;
            box-shadow: var(--card-shadow);
            animation: fadeInDown 0.8s ease-out;
            overflow: hidden;
            position: relative;
        }

        .lesson-header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        .lesson-header h2 {
            font-family: 'Merriweather', serif;
            font-size: 2.8rem;
            margin-bottom: 15px;
            position: relative;
            display: inline-block;
        }

        .lesson-header h2::after {
            content: "";
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background-color: var(--accent);
            border-radius: 2px;
        }

        .lesson-subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
        }

        /* Navegación interactiva */
        .alphabet-nav {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-bottom: 40px;
            animation: fadeInUp 0.8s ease-out 0.2s both;
        }

        .letter-btn {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: white;
            border: 2px solid var(--primary);
            border-radius: 50%;
            font-family: 'Times New Roman', serif;
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .letter-btn:hover {
            transform: translateY(-5px);
            background-color: var(--primary);
            color: white;
            box-shadow: 0 8px 15px rgba(143, 26, 26, 0.3);
        }

        .letter-btn.active {
            background-color: var(--primary);
            color: white;
            transform: scale(1.1);
        }

        /* Tabla interactiva - Versión escritorio */
        .alphabet-table-container {
            background-color: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: var(--card-shadow);
            animation: fadeIn 1s ease-out 0.4s both;
            overflow: hidden;
        }

        .table-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .table-header h3 {
            font-family: 'Merriweather', serif;
            font-size: 1.8rem;
            color: var(--primary);
            position: relative;
        }

        .table-header h3::after {
            content: "";
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 60px;
            height: 3px;
            background-color: var(--accent);
        }

        .search-box {
            position: relative;
        }

        .search-box input {
            padding: 12px 20px 12px 45px;
            border: 2px solid #e0e0e0;
            border-radius: 50px;
            font-size: 1rem;
            width: 100%;
            max-width: 300px;
            transition: var(--transition);
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(143, 26, 26, 0.2);
        }

        .search-box i {
            position: absolute;
            left: 18px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
        }

        .alphabet-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
        }

        .alphabet-table thead {
            background: linear-gradient(to right, var(--primary), #6b1313);
            color: white;
            border-radius: 10px;
            overflow: hidden;
        }

        .alphabet-table th {
            padding: 18px 15px;
            text-align: left;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .alphabet-table tbody tr {
            transition: var(--transition);
            border-bottom: 1px solid #f0f0f0;
        }

        .alphabet-table tbody tr:hover {
            background-color: rgba(143, 26, 26, 0.05);
            transform: translateX(5px);
        }

        .alphabet-table td {
            padding: 18px 15px;
            border-bottom: 1px solid #f0f0f0;
        }

        .letter-cell {
            font-family: 'Times New Roman', serif;
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--primary);
            text-align: right;
            direction: rtl;
        }

        .example-cell {
            font-family: 'Times New Roman', serif;
            font-size: 1.1rem;
            color: var(--primary);
            direction: rtl;
            text-align: right;
        }

        .play-sound-btn {
            background-color: transparent;
            border: none;
            color: var(--success);
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
            padding: 5px;
            border-radius: 50%;
        }

        .play-sound-btn:hover {
            background-color: rgba(76, 201, 240, 0.1);
            transform: scale(1.2);
        }

        /* Paneles interactivos */
        .interactive-panels {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .info-panel {
            background-color: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
            animation: fadeInUp 0.8s ease-out 0.6s both;
            position: relative;
            overflow: hidden;
        }

        .info-panel:hover {
            transform: translateY(-10px);
        }

        .info-panel h3 {
            font-family: 'Merriweather', serif;
            font-size: 1.6rem;
            color: var(--primary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .info-panel h3 i {
            color: var(--accent);
        }

        .special-case-item {
            background-color: var(--light-bg);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid var(--success);
            transition: var(--transition);
        }

        .special-case-item:hover {
            background-color: rgba(76, 201, 240, 0.15);
            transform: translateX(5px);
        }

        .spirit-marks {
            display: flex;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .spirit-mark {
            flex: 1;
            min-width: 150px;
            background-color: var(--light-bg);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            transition: var(--transition);
        }

        .spirit-mark:hover {
            background-color: rgba(143, 26, 26, 0.1);
            transform: translateY(-5px);
        }

        .spirit-mark strong {
            display: block;
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: var(--primary);
        }

        /* Ejemplo bíblico con efecto de revelación */
        .bible-example {
            background: linear-gradient(135deg, var(--secondary), #1b5e20);
            color: white;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: var(--card-shadow);
            animation: fadeIn 1s ease-out 0.8s both;
            position: relative;
            overflow: hidden;
            direction: rtl;
            text-align: right;
        }

        .bible-example::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        .bible-example h3 {
            font-family: 'Merriweather', serif;
            font-size: 1.8rem;
            margin-bottom: 25px;
            position: relative;
            display: inline-block;
            text-align: right;
            direction: rtl;
        }

        .bible-example h3::after {
            content: "";
            position: absolute;
            bottom: -10px;
            right: 0;
            width: 80px;
            height: 3px;
            background-color: var(--accent);
        }

        .hebrew-text {
            font-family: 'Times New Roman', serif;
            font-size: 2rem;
            margin: 25px 0;
            line-height: 1.8;
            color: white;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            position: relative;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            border-right: 5px solid var(--accent);
            text-align: right;
            direction: rtl;
        }

        .hebrew-word {
            cursor: pointer;
            position: relative;
            padding: 2px 5px;
            border-radius: 4px;
            transition: all 0.3s ease;
            display: inline-block;
        }

        .hebrew-word:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .hebrew-word.active {
            background: rgba(255, 152, 0, 0.3);
            color: white;
        }

        .word-tooltip {
            position: absolute;
            background: white;
            color: var(--dark);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            z-index: 100;
            max-width: 300px;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
            pointer-events: none;
            direction: ltr;
            text-align: left;
        }

        .word-tooltip.show {
            opacity: 1;
            transform: translateY(0);
        }

        .verse-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 25px;
            direction: ltr;
            justify-content: flex-end;
        }

        .verse-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            padding: 12px 25px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
            direction: ltr;
        }

        .verse-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-3px);
        }

        .verse-btn.primary {
            background: var(--accent);
            border-color: var(--accent);
        }

        .verse-btn.primary:hover {
            background: #e1156d;
            box-shadow: 0 8px 15px rgba(247, 37, 133, 0.3);
        }

        .hidden-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.8s ease;
            margin-top: 0;
            direction: ltr;
            text-align: left;
        }

        .hidden-content.show {
            max-height: 500px;
            margin-top: 25px;
        }

        .translation-box {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 15px;
            margin-top: 20px;
            border-right: 5px solid var(--success);
            direction: ltr;
            text-align: left;
        }

        .verse-highlight {
            background: rgba(76, 201, 240, 0.3);
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: bold;
        }

        /* Contador de progreso */
        .progress-container {
            background-color: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: var(--card-shadow);
            margin-bottom: 30px;
            animation: fadeIn 1s ease-out 1s both;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .progress-text {
            font-size: 1.1rem;
            color: var(--dark);
        }

        .progress-value {
            font-weight: bold;
            color: var(--primary);
            font-size: 1.3rem;
        }

        .progress-bar {
            height: 12px;
            background-color: var(--light-bg);
            border-radius: 6px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--success), var(--primary));
            border-radius: 6px;
            width: 4%;
            transition: width 1s ease;
        }

        /* Animaciones */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes highlight {
            0% { background-color: transparent; }
            50% { background-color: rgba(255, 152, 0, 0.3); }
            100% { background-color: transparent; }
        }

        .pulse {
            animation: pulse 1.5s infinite;
        }

        .highlight {
            animation: highlight 1.5s ease;
        }

        /* Efectos de partículas para interacción */
        .particle {
            position: absolute;
            background-color: var(--accent);
            border-radius: 50%;
            pointer-events: none;
            opacity: 0.7;
            z-index: 100;
        }

        /* Panel de vocales (Niqud) */
        .vowels-panel {
            background-color: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: var(--card-shadow);
            animation: fadeIn 1s ease-out 1.2s both;
        }

        .vowels-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .vowel-card {
            background: var(--light-bg);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            transition: var(--transition);
            cursor: pointer;
            border: 2px solid transparent;
        }

        .vowel-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .vowel-symbol {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .vowel-name {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .vowel-sound {
            font-size: 0.9rem;
            color: var(--gray);
        }

        /* ====== RESPONSIVE DESIGN ====== */

        /* Tablets grandes y pantallas pequeñas */
        @media (max-width: 992px) {
            .interactive-panels {
                grid-template-columns: 1fr;
            }
            
            .spirit-marks {
                flex-direction: column;
            }
            
            .lesson-header h2 {
                font-size: 2.2rem;
            }
            
            .hebrew-text {
                font-size: 1.5rem;
            }
            
            .verse-controls {
                flex-direction: column;
            }
            
            .verse-btn {
                width: 100%;
                justify-content: center;
            }
            
            .alphabet-table-container {
                overflow-x: auto;
            }
            
            .alphabet-table {
                min-width: 700px;
            }
            
            .alphabet-table th,
            .alphabet-table td {
                padding: 15px 10px;
                font-size: 0.95rem;
            }
            
            .letter-cell {
                font-size: 1.6rem;
            }

            .vowels-grid {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            }
        }

        /* Tabletas y móviles grandes (768px o menos) */
        @media (max-width: 768px) {
            .lesson-content-container {
                padding: 15px;
            }
            
            .lesson-header {
                padding: 20px;
            }
            
            .alphabet-table-container {
                padding: 15px;
                overflow: hidden;
            }
            
            /* TABLA RESPONSIVE - SE CONVIERTE EN TARJETAS */
            .alphabet-table {
                display: block;
                min-width: auto;
            }
            
            .alphabet-table thead {
                display: none;
            }
            
            .alphabet-table tbody {
                display: flex;
                flex-direction: column;
                gap: 15px;
            }
            
            .alphabet-table tbody tr {
                display: block;
                background: white;
                border-radius: 15px;
                padding: 20px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.08);
                border: 1px solid #eaeaea;
                border-bottom: 3px solid var(--primary);
                transition: var(--transition);
                direction: ltr;
            }
            
            .alphabet-table tbody tr:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 25px rgba(0,0,0,0.15);
                background-color: white;
            }
            
            .alphabet-table td {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 12px 0;
                border-bottom: 1px solid #f0f0f0;
                direction: ltr;
                text-align: left;
            }
            
            .alphabet-table td:last-child {
                border-bottom: none;
            }
            
            .alphabet-table td::before {
                content: attr(data-label);
                font-weight: 600;
                color: var(--primary);
                font-size: 0.9rem;
                min-width: 120px;
            }
            
            .letter-cell {
                font-size: 2rem;
                justify-content: center !important;
                padding: 15px 0 !important;
                border-bottom: 2px solid var(--light-bg) !important;
                text-align: center !important;
            }
            
            .letter-cell::before {
                display: none;
            }
            
            .table-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .search-box input {
                max-width: 100%;
            }
            
            .info-panel, .bible-example {
                padding: 25px;
            }
            
            .hebrew-text {
                font-size: 1.3rem;
                padding: 15px;
            }
            
            /* Navegación de letras con scroll horizontal */
            .alphabet-nav {
                overflow-x: auto;
                justify-content: flex-start;
                padding-bottom: 10px;
                margin-left: -10px;
                margin-right: -10px;
                padding-left: 10px;
                padding-right: 10px;
                scrollbar-width: thin;
                scrollbar-color: var(--primary) #f1f1f1;
            }
            
            .alphabet-nav::-webkit-scrollbar {
                height: 4px;
            }
            
            .alphabet-nav::-webkit-scrollbar-track {
                background: #f1f1f1;
                border-radius: 10px;
            }
            
            .alphabet-nav::-webkit-scrollbar-thumb {
                background: var(--primary);
                border-radius: 10px;
            }
            
            .letter-btn {
                flex-shrink: 0;
            }

            .vowels-grid {
                grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
                gap: 10px;
            }

            .vowel-card {
                padding: 10px;
            }

            .vowel-symbol {
                font-size: 1.5rem;
            }
        }

        /* Móviles medianos (576px o menos) */
        @media (max-width: 576px) {
            .letter-btn {
                width: 44px;
                height: 44px;
                font-size: 1.3rem;
            }
            
            .alphabet-nav {
                gap: 8px;
            }
            
            .lesson-header h2 {
                font-size: 1.8rem;
            }
            
            .hebrew-text {
                font-size: 1.1rem;
            }
            
            .progress-container {
                padding: 20px;
            }
            
            .progress-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .special-case-item {
                padding: 12px;
            }
            
            .spirit-mark {
                min-width: 120px;
                padding: 15px;
            }
            
            .spirit-mark strong {
                font-size: 2rem;
            }

            .bible-example {
                padding: 20px;
            }
        }

        /* Pantallas muy pequeñas (400px o menos) */
        @media (max-width: 400px) {
            .alphabet-table td {
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;
                padding: 10px 0;
            }
            
            .alphabet-table td::before {
                min-width: 100px;
                font-size: 0.85rem;
            }
            
            .alphabet-table tbody tr {
                padding: 15px;
            }
            
            .letter-cell {
                font-size: 1.8rem;
            }
            
            .letter-btn {
                width: 40px;
                height: 40px;
                font-size: 1.2rem;
            }
            
            .lesson-header {
                padding: 15px;
            }
            
            .lesson-header h2 {
                font-size: 1.6rem;
            }
            
            .lesson-subtitle {
                font-size: 1rem;
            }
            
            .bible-example {
                padding: 20px;
            }
            
            .hebrew-text {
                font-size: 1rem;
                padding: 12px;
            }
            
            .verse-btn {
                padding: 10px 20px;
                font-size: 0.9rem;
            }

            .vowels-grid {
                grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
            }
        }

        /* Tabletas en modo horizontal */
        @media (min-width: 769px) and (max-width: 1024px) and (orientation: landscape) {
            .interactive-panels {
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }
            
            .alphabet-nav {
                justify-content: center;
                flex-wrap: wrap;
            }
        }

        /* Estilos para texto hebreo */
        .hebrew {
            font-family: 'Times New Roman', serif;
            direction: rtl;
            text-align: right;
        }

        .hebrew-center {
            font-family: 'Times New Roman', serif;
            direction: rtl;
            text-align: center;
        }

        /* Indicador de dirección */
        .direction-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin: 15px 0;
            color: var(--primary);
            font-weight: 600;
        }

        .direction-indicator i {
            font-size: 1.2rem;
        }
    </style>
</head>
<body>
    <div class="lesson-content-container">
        <!-- Header con animación -->
        <header class="lesson-header">
            <h2><i class="fas fa-star-of-david"></i> Alfabeto Hebreo Bíblico</h2>
            <p class="lesson-subtitle">Explora interactivamente las 22 letras del hebreo bíblico con sus formas finales. Haz clic en cada letra para escuchar su pronunciación y descubre ejemplos bíblicos.</p>
            <div class="direction-indicator">
                <i class="fas fa-arrow-left"></i>
                <span>El hebreo se lee de derecha a izquierda</span>
                <i class="fas fa-arrow-left"></i>
            </div>
        </header>

        <!-- Navegación por letras -->
        <div class="alphabet-nav" id="alphabetNav">
            <!-- Las letras se insertarán con JavaScript -->
        </div>

        <!-- Contador de progreso -->
        <div class="progress-container">
            <div class="progress-header">
                <div class="progress-text">Tu progreso de aprendizaje</div>
                <div class="progress-value"><span id="progressPercent">4%</span> completado</div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>

        <!-- Tabla de alfabeto -->
        <div class="alphabet-table-container">
            <div class="table-header">
                <h3><i class="fas fa-book"></i> Tabla del Alfabeto Hebreo (22 letras)</h3>
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="letterSearch" placeholder="Buscar letra, nombre o ejemplo...">
                </div>
            </div>
            <table class="alphabet-table">
                <thead>
                    <tr>
                        <th>Letra</th>
                        <th>Nombre</th>
                        <th>Pronunciación</th>
                        <th>Ejemplo</th>
                        <th>Escuchar</th>
                    </tr>
                </thead>
                <tbody id="alphabetTableBody">
                    <!-- Las filas se insertarán con JavaScript -->
                </tbody>
            </table>
        </div>

        <!-- Panel de formas finales (Sofit) -->
        <div class="info-panel">
            <h3><i class="fas fa-edit"></i> Formas Finales (Sofit)</h3>
            <p>Algunas letras hebreas cambian de forma cuando aparecen al final de una palabra:</p>
            <div class="spirit-marks">
                <div class="spirit-mark">
                    <strong class="hebrew">כ ך</strong>
                    <div>Kaf</div>
                    <small>כ inicial, ך final</small>
                </div>
                <div class="spirit-mark">
                    <strong class="hebrew">מ ם</strong>
                    <div>Mem</div>
                    <small>מ inicial, ם final</small>
                </div>
                <div class="spirit-mark">
                    <strong class="hebrew">נ ן</strong>
                    <div>Nun</div>
                    <small>נ inicial, ן final</small>
                </div>
                <div class="spirit-mark">
                    <strong class="hebrew">פ ף</strong>
                    <div>Pe</div>
                    <small>פ inicial, ף final</small>
                </div>
                <div class="spirit-mark">
                    <strong class="hebrew">צ ץ</strong>
                    <div>Tsade</div>
                    <small>צ inicial, ץ final</small>
                </div>
            </div>
        </div>

        <!-- Paneles interactivos -->
        <div class="interactive-panels">
            <!-- Consonantes especiales -->
            <div class="info-panel">
                <h3><i class="fas fa-star"></i> Consonantes Especiales</h3>
                <div class="special-case-item">
                    <strong class="hebrew">א</strong> - <strong>Alef</strong>: Letra muda (oclusión glotal). Ejemplo: <span class="hebrew">אֱלֹהִים</span> (Elohim).
                </div>
                <div class="special-case-item">
                    <strong class="hebrew">ע</strong> - <strong>Ayin</strong>: Sonido gutural faríngeo. Ejemplo: <span class="hebrew">עַם</span> (am - pueblo).
                </div>
                <div class="special-case-item">
                    <strong class="hebrew">ח</strong> - <strong>Het</strong>: Fricativa faríngea (como j suave). Ejemplo: <span class="hebrew">חֶסֶד</span> (ḥesed - misericordia).
                </div>
                <div class="special-case-item">
                    <strong>Consonantes Begadkefat</strong>: Tienen dos sonidos según el daguesh: <span class="hebrew">ב</span> (b/v), <span class="hebrew">ג</span> (g), <span class="hebrew">ד</span> (d), <span class="hebrew">כ</span> (k/kh), <span class="hebrew">פ</span> (p/f), <span class="hebrew">ת</span> (t).
                </div>
            </div>

            <!-- Sistema de vocales (Niqud) -->
            <div class="info-panel">
                <h3><i class="fas fa-font"></i> Vocales Hebreas (Niqud)</h3>
                <p>El hebreo bíblico usa un sistema de puntos y marcas debajo/sobre las consonantes:</p>
                
                <div class="vowels-grid" id="vowelsGrid">
                    <!-- Las vocales se insertarán con JavaScript -->
                </div>
                
                <p style="margin-top: 20px; font-size: 0.9rem; color: var(--gray);">
                    <i class="fas fa-info-circle"></i> Sheva (ְ) puede ser móvil (e breve) o silente.
                </p>
            </div>
        </div>

        <!-- Ejemplo bíblico -->
        <div class="bible-example">
            <h3><i class="fas fa-bible"></i> Ejemplo Bíblico - Génesis 1:1</h3>
            <div class="direction-indicator" style="color: white;">
                <i class="fas fa-arrow-left"></i>
                <span>Lectura: de derecha a izquierda</span>
                <i class="fas fa-arrow-left"></i>
            </div>
            
            <div class="hebrew-text" id="hebrewVerse">
                <!-- El versículo se insertará con JavaScript -->
            </div>

            <div class="verse-controls">
                <button class="verse-btn primary" id="readVerseBtn">
                    <i class="fas fa-play-circle"></i> Escuchar versículo
                </button>
                <button class="verse-btn" id="showTranslationBtn">
                    <i class="fas fa-language"></i> Mostrar traducción
                </button>
                <button class="verse-btn" id="analyzeGrammarBtn">
                    <i class="fas fa-search"></i> Analizar palabras
                </button>
            </div>

            <!-- Traducción (oculta inicialmente) -->
            <div class="hidden-content" id="translationContent">
                <div class="translation-box">
                    <h4>Traducción al español:</h4>
                    <p>"En el principio creó Dios los cielos y la tierra." (Génesis 1:1)</p>
                    <p><strong>Transliteración:</strong> "Bereshit bara Elohim et hashamayim ve'et ha'arets."</p>
                </div>
            </div>

            <!-- Análisis gramatical (oculto inicialmente) -->
            <div class="hidden-content" id="grammarContent">
                <div class="translation-box">
                    <h4>Análisis de palabras:</h4>
                    <p><span class="hebrew">בְּרֵאשִׁית</span> (Bereshit) - "En el principio" (sustantivo + preposición)</p>
                    <p><span class="hebrew">בָּרָא</span> (bara) - "creó" (verbo, 3ra persona singular masculino)</p>
                    <p><span class="hebrew">אֱלֹהִים</span> (Elohim) - "Dios" (sustantivo plural majestuoso)</p>
                    <p><span class="hebrew">אֵת</span> (et) - partícula que marca el objeto directo</p>
                    <p><span class="hebrew">הַשָּׁמַיִם</span> (hashamayim) - "los cielos" (artículo + sustantivo)</p>
                    <p><span class="hebrew">וְאֵת</span> (ve'et) - "y" (conjunción) + partícula objeto</p>
                    <p><span class="hebrew">הָאָרֶץ</span> (ha'arets) - "la tierra" (artículo + sustantivo)</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Tooltip para palabras hebreas -->
    <div class="word-tooltip" id="wordTooltip"></div>

    <script>
        // Datos del alfabeto hebreo
        const hebrewAlphabet = [
            { letter: "א", name: "Alef", pronunciation: "Muda (oclusión glotal)", example: "אֱלֹהִים (Elohim) - Dios", sound: "alef" },
            { letter: "ב", name: "Bet", pronunciation: "b (casa) / v (sin daguesh)", example: "בְּרֵאשִׁית (Bereshit) - principio", sound: "bet" },
            { letter: "ג", name: "Gimel", pronunciation: "g (gato)", example: "גָּדוֹל (gadol) - grande", sound: "gimel" },
            { letter: "ד", name: "Dalet", pronunciation: "d (dedo)", example: "דָּוִד (David) - David", sound: "dalet" },
            { letter: "ה", name: "He", pronunciation: "h suave (hola)", example: "הָיָה (hayah) - era", sound: "he" },
            { letter: "ו", name: "Vav", pronunciation: "v (vida) / u,o (como vocal)", example: "וְהָאָרֶץ (veha'arets) - y la tierra", sound: "vav" },
            { letter: "ז", name: "Zayin", pronunciation: "z (zapato)", example: "זֶה (ze) - este", sound: "zayin" },
            { letter: "ח", name: "Het", pronunciation: "ḥ (fricativa faríngea)", example: "חֶסֶד (ḥesed) - misericordia", sound: "het" },
            { letter: "ט", name: "Tet", pronunciation: "ṭ (t enfática)", example: "טוֹב (ṭov) - bueno", sound: "tet" },
            { letter: "י", name: "Yod", pronunciation: "y (yo) / i (como vocal)", example: "יְרוּשָׁלַ֫יִם (Yerushalayim) - Jerusalén", sound: "yod" },
            { letter: "כ/ך", name: "Kaf", pronunciation: "k (kilo) / kh (jota)", example: "כָּבוֹד (kavod) - gloria", sound: "kaf" },
            { letter: "ל", name: "Lamed", pronunciation: "l (luz)", example: "לַיְלָה (laylah) - noche", sound: "lamed" },
            { letter: "מ/ם", name: "Mem", pronunciation: "m (mesa)", example: "מַלְכוּת (malkut) - reino", sound: "mem" },
            { letter: "נ/ן", name: "Nun", pronunciation: "n (nido)", example: "נָבִיא (navi) - profeta", sound: "nun" },
            { letter: "ס", name: "Samej", pronunciation: "s (sol)", example: "סוּס (sus) - caballo", sound: "samej" },
            { letter: "ע", name: "Ayin", pronunciation: "Muda / ʿ (gutural)", example: "עַם (ʿam) - pueblo", sound: "ayin" },
            { letter: "פ/ף", name: "Pe", pronunciation: "p (perro) / f (sin daguesh)", example: "פֶּה (peh) - boca", sound: "pe" },
            { letter: "צ/ץ", name: "Tsade", pronunciation: "ts (tsunami)", example: "צֶדֶק (tsedek) - justicia", sound: "tsade" },
            { letter: "ק", name: "Qof", pronunciation: "q (k gutural)", example: "קוֹל (qol) - voz", sound: "qof" },
            { letter: "ר", name: "Resh", pronunciation: "r (r suave)", example: "רוּחַ (ruaḥ) - espíritu", sound: "resh" },
            { letter: "ש", name: "Shin/Sin", pronunciation: "sh (shalom) / s (sin)", example: "שָׁלוֹם (shalom) - paz", sound: "shin" },
            { letter: "ת", name: "Tav", pronunciation: "t (toro)", example: "תּוֹרָה (Torah) - instrucción", sound: "tav" }
        ];

        // Datos de las vocales hebreas (Niqud)
        const hebrewVowels = [
            { symbol: "ַ", name: "Pataj", sound: "a corta", example: "קַדּוֹשׁ (qadósh)" },
            { symbol: "ָ", name: "Qamats", sound: "a larga", example: "דָּבָר (davár)" },
            { symbol: "ֶ", name: "Segol", sound: "e corta", example: "אֶרֶץ (érets)" },
            { symbol: "ֵ", name: "Tsere", sound: "e larga", example: "סֵפֶר (séfer)" },
            { symbol: "ִ", name: "Jiriq", sound: "i corta/larga", example: "דִּבֵּר (dibér)" },
            { symbol: "ֹ", name: "Jolem", sound: "o larga", example: "כֹּל (kol)" },
            { symbol: "ֻ", name: "Qibbuts", sound: "u corta", example: "קֻדּשׁ (quddésh)" },
            { symbol: "וּ", name: "Shuruq", sound: "u larga", example: "תּוֹרָה (Toráh)" },
            { symbol: "ְ", name: "Sheva", sound: "e breve / silente", example: "בְּרֵאשִׁית (Bereshit)" }
        ];

        // Datos del versículo bíblico (Génesis 1:1)
        const verseData = {
            hebrew: "בְּרֵאשִׁית בָּרָא אֱלֹהִים אֵת הַשָּׁמַיִם וְאֵת הָאָרֶץ׃",
            pronunciation: "Bereshit bara Elohim et hashamayim ve'et ha'arets.",
            translation: "En el principio creó Dios los cielos y la tierra.",
            words: [
                { 
                    hebrew: "בְּרֵאשִׁית", 
                    meaning: "En el principio", 
                    pronunciation: "Bereshit",
                    grammar: "Sustantivo + preposición",
                    description: "Literalmente: 'en principio'. Primera palabra de la Biblia hebrea."
                },
                { 
                    hebrew: "בָּרָא", 
                    meaning: "creó", 
                    pronunciation: "bara",
                    grammar: "Verbo Qal, perfecto, 3ra persona singular masculino",
                    description: "Acción divina de creación ex nihilo (de la nada)"
                },
                { 
                    hebrew: "אֱלֹהִים", 
                    meaning: "Dios", 
                    pronunciation: "Elohim",
                    grammar: "Sustantivo plural majestuoso",
                    description: "Nombre divino que enfatiza el poder creador"
                },
                { 
                    hebrew: "אֵת", 
                    meaning: "[marca objeto directo]", 
                    pronunciation: "et",
                    grammar: "Partícula de objeto directo",
                    description: "No se traduce al español, marca el objeto directo"
                },
                { 
                    hebrew: "הַשָּׁמַיִם", 
                    meaning: "los cielos", 
                    pronunciation: "hashamayim",
                    grammar: "Sustantivo dual + artículo",
                    description: "Forma dual que indica cielo y abismo acuoso"
                },
                { 
                    hebrew: "וְאֵת", 
                    meaning: "y", 
                    pronunciation: "ve'et",
                    grammar: "Conjunción + partícula",
                    description: "Conjunción 'y' unida a la partícula de objeto"
                },
                { 
                    hebrew: "הָאָרֶץ", 
                    meaning: "la tierra", 
                    pronunciation: "ha'arets",
                    grammar: "Sustantivo + artículo",
                    description: "Tierra, mundo material creado"
                }
            ]
        };

        // Variables de estado
        let learnedLetters = new Set();
        let totalLetters = hebrewAlphabet.length;
        let currentWordIndex = -1;

        // Elementos DOM
        const alphabetNav = document.getElementById('alphabetNav');
        const alphabetTableBody = document.getElementById('alphabetTableBody');
        const letterSearch = document.getElementById('letterSearch');
        const hebrewVerse = document.getElementById('hebrewVerse');
        const vowelsGrid = document.getElementById('vowelsGrid');
        const wordTooltip = document.getElementById('wordTooltip');
        const readVerseBtn = document.getElementById('readVerseBtn');
        const showTranslationBtn = document.getElementById('showTranslationBtn');
        const analyzeGrammarBtn = document.getElementById('analyzeGrammarBtn');
        const translationContent = document.getElementById('translationContent');
        const grammarContent = document.getElementById('grammarContent');
        const progressFill = document.getElementById('progressFill');
        const progressPercent = document.getElementById('progressPercent');

        // Inicialización
        document.addEventListener('DOMContentLoaded', () => {
            renderAlphabetNav();
            renderAlphabetTable();
            renderHebrewVerse();
            renderVowelsGrid();
            setupEventListeners();
            updateProgress();
            
            // Animación inicial de las letras
            animateLetters();
            
            // Efecto de escritura para el versículo
            typeWriterEffect();
        });

        // Renderizar navegación por letras
        function renderAlphabetNav() {
            alphabetNav.innerHTML = '';
            
            hebrewAlphabet.forEach((letterData, index) => {
                const letterBtn = document.createElement('button');
                letterBtn.className = 'letter-btn';
                letterBtn.textContent = letterData.letter.split('/')[0]; // Tomar la primera forma
                letterBtn.dataset.index = index;
                
                letterBtn.addEventListener('click', () => {
                    // Marcar como aprendida
                    if (!learnedLetters.has(index)) {
                        learnedLetters.add(index);
                        updateProgress();
                        
                        // Efecto visual
                        letterBtn.classList.add('active');
                        setTimeout(() => {
                            letterBtn.classList.remove('active');
                        }, 1000);
                        
                        // Crear partículas
                        createParticles(letterBtn);
                    }
                    
                    // Pronunciar la letra
                    pronounceLetter(letterData.name);
                    
                    // Desplazar a la fila correspondiente en la tabla
                    scrollToLetter(index);
                });
                
                alphabetNav.appendChild(letterBtn);
            });
        }

        // Renderizar tabla de alfabeto
        function renderAlphabetTable(filter = '') {
            alphabetTableBody.innerHTML = '';
            
            const filteredAlphabet = hebrewAlphabet.filter(letter => {
                const searchText = filter.toLowerCase();
                return (
                    letter.letter.toLowerCase().includes(searchText) ||
                    letter.name.toLowerCase().includes(searchText) ||
                    letter.pronunciation.toLowerCase().includes(searchText) ||
                    letter.example.toLowerCase().includes(searchText)
                );
            });
            
            filteredAlphabet.forEach((letterData, index) => {
                const row = document.createElement('tr');
                
                // Determinar si la letra ha sido aprendida
                const isLearned = learnedLetters.has(hebrewAlphabet.findIndex(l => l.letter === letterData.letter));
                
                row.innerHTML = `
                    <td class="letter-cell">${letterData.letter}</td>
                    <td><strong>${letterData.name}</strong> ${isLearned ? '<i class="fas fa-check-circle" style="color: #4cc9f0; margin-left: 5px;"></i>' : ''}</td>
                    <td>${letterData.pronunciation}</td>
                    <td class="example-cell">${letterData.example}</td>
                    <td>
                        <button class="play-sound-btn" data-sound="${letterData.sound}">
                            <i class="fas fa-volume-up"></i>
                        </button>
                    </td>
                `;
                
                // Añadir data-labels para responsive
                if (window.innerWidth <= 768) {
                    const cells = row.querySelectorAll('td');
                    const labels = ['Letra', 'Nombre', 'Pronunciación', 'Ejemplo', 'Sonido'];
                    cells.forEach((cell, i) => {
                        cell.setAttribute('data-label', labels[i]);
                    });
                }
                
                // Resaltar si es la letra buscada
                if (filter && letterData.letter.toLowerCase().includes(filter.toLowerCase())) {
                    row.style.backgroundColor = 'rgba(143, 26, 26, 0.1)';
                }
                
                // Agregar evento de clic a la fila
                row.addEventListener('click', () => {
                    // Marcar como aprendida
                    const originalIndex = hebrewAlphabet.findIndex(l => l.letter === letterData.letter);
                    if (!learnedLetters.has(originalIndex)) {
                        learnedLetters.add(originalIndex);
                        updateProgress();
                        renderAlphabetTable(letterSearch.value);
                        
                        // Efecto visual
                        row.style.backgroundColor = 'rgba(76, 201, 240, 0.2)';
                        setTimeout(() => {
                            row.style.backgroundColor = '';
                        }, 1000);
                    }
                    
                    // Pronunciar la letra
                    pronounceLetter(letterData.name);
                });
                
                // Agregar evento al botón de sonido
                const soundBtn = row.querySelector('.play-sound-btn');
                soundBtn.addEventListener('click', (e) => {
                    e.stopPropagation(); // Evitar que se active el evento de la fila
                    pronounceLetter(letterData.name);
                    
                    // Efecto visual
                    soundBtn.innerHTML = '<i class="fas fa-volume-up pulse"></i>';
                    setTimeout(() => {
                        soundBtn.innerHTML = '<i class="fas fa-volume-up"></i>';
                    }, 1000);
                });
                
                alphabetTableBody.appendChild(row);
            });
        }

        // Renderizar vocales hebreas
        function renderVowelsGrid() {
            vowelsGrid.innerHTML = '';
            
            hebrewVowels.forEach((vowel, index) => {
                const vowelCard = document.createElement('div');
                vowelCard.className = 'vowel-card';
                
                vowelCard.innerHTML = `
                    <div class="vowel-symbol">${vowel.symbol}</div>
                    <div class="vowel-name">${vowel.name}</div>
                    <div class="vowel-sound">${vowel.sound}</div>
                `;
                
                vowelCard.addEventListener('click', () => {
                    // Pronunciar ejemplo
                    pronounceVowelExample(vowel.example);
                    
                    // Efecto visual
                    vowelCard.style.borderColor = '#ff9800';
                    vowelCard.style.boxShadow = '0 5px 15px rgba(255, 152, 0, 0.3)';
                    setTimeout(() => {
                        vowelCard.style.borderColor = '';
                        vowelCard.style.boxShadow = '';
                    }, 1000);
                });
                
                vowelsGrid.appendChild(vowelCard);
            });
        }

        // Renderizar versículo hebreo con palabras interactivas
        function renderHebrewVerse() {
            hebrewVerse.innerHTML = '';
            
            // Separar el versículo en palabras
            const words = verseData.hebrew.split(' ');
            
            words.forEach((word, index) => {
                const wordSpan = document.createElement('span');
                wordSpan.className = 'hebrew-word';
                wordSpan.textContent = word + (index < words.length - 1 ? ' ' : '');
                wordSpan.dataset.index = index;
                
                // Encontrar los datos de la palabra
                const wordData = verseData.words.find(w => w.hebrew === word.replace(/[׃]/g, ''));
                
                if (wordData) {
                    wordSpan.title = `${wordData.meaning} (${wordData.pronunciation})`;
                    
                    // Agregar evento de clic
                    wordSpan.addEventListener('click', () => {
                        highlightWord(index);
                        showWordTooltip(wordSpan, wordData);
                    });
                    
                    // Agregar evento de hover
                    wordSpan.addEventListener('mouseenter', () => {
                        wordSpan.classList.add('active');
                    });
                    
                    wordSpan.addEventListener('mouseleave', () => {
                        wordSpan.classList.remove('active');
                    });
                }
                
                hebrewVerse.appendChild(wordSpan);
            });
        }

        // Mostrar tooltip para palabra hebrea
        function showWordTooltip(element, wordData) {
            const rect = element.getBoundingClientRect();
            
            wordTooltip.innerHTML = `
                <div style="margin-bottom: 10px;">
                    <strong style="font-size: 1.2rem; color: var(--primary);" class="hebrew">${wordData.hebrew}</strong>
                    <div style="font-size: 0.9rem; color: var(--gray); margin-top: 5px;">
                        Pronunciación: <strong>${wordData.pronunciation}</strong>
                    </div>
                </div>
                <div style="margin-bottom: 8px;">
                    <strong>Significado:</strong> ${wordData.meaning}
                </div>
                <div style="margin-bottom: 8px;">
                    <strong>Gramática:</strong> ${wordData.grammar}
                </div>
                <div>
                    <strong>Descripción:</strong> ${wordData.description}
                </div>
            `;
            
            // Posicionar el tooltip según el tamaño de pantalla
            const isMobile = window.innerWidth <= 768;
            const tooltipWidth = 300;
            const leftPosition = isMobile 
                ? Math.max(10, rect.left - (tooltipWidth / 2) + (rect.width / 2))
                : rect.left + (rect.width / 2) - (tooltipWidth / 2);
            
            wordTooltip.style.left = `${leftPosition}px`;
            wordTooltip.style.top = `${rect.top - 180}px`;
            wordTooltip.style.maxWidth = `${Math.min(300, window.innerWidth - 20)}px`;
            
            // Mostrar tooltip
            wordTooltip.classList.add('show');
            
            // Ocultar tooltip después de 5 segundos
            setTimeout(() => {
                wordTooltip.classList.remove('show');
            }, 5000);
        }

        // Resaltar palabra en el versículo
        function highlightWord(index) {
            const words = hebrewVerse.querySelectorAll('.hebrew-word');
            
            // Quitar resaltado anterior
            words.forEach(word => {
                word.classList.remove('highlight');
            });
            
            // Resaltar la palabra seleccionada
            if (words[index]) {
                words[index].classList.add('highlight');
                currentWordIndex = index;
                
                // Pronunciar la palabra
                const wordData = verseData.words.find(w => w.hebrew === words[index].textContent.trim().replace(/[׃]/g, ''));
                if (wordData) {
                    pronounceWord(wordData.pronunciation);
                }
            }
        }

        // Configurar event listeners
        function setupEventListeners() {
            // Búsqueda en tiempo real
            letterSearch.addEventListener('input', (e) => {
                renderAlphabetTable(e.target.value);
            });
            
            // Botón para leer versículo completo
            readVerseBtn.addEventListener('click', () => {
                readVerseAloud();
                
                // Efecto visual
                readVerseBtn.innerHTML = '<i class="fas fa-volume-up pulse"></i> Reproduciendo...';
                setTimeout(() => {
                    readVerseBtn.innerHTML = '<i class="fas fa-play-circle"></i> Escuchar versículo completo';
                }, 4000);
            });
            
            // Botón para mostrar traducción
            showTranslationBtn.addEventListener('click', () => {
                translationContent.classList.toggle('show');
                
                // Cambiar texto del botón
                if (translationContent.classList.contains('show')) {
                    showTranslationBtn.innerHTML = '<i class="fas fa-eye-slash"></i> Ocultar traducción';
                    showTranslationBtn.classList.add('pulse');
                    
                    // Cerrar análisis gramatical si está abierto
                    grammarContent.classList.remove('show');
                    analyzeGrammarBtn.innerHTML = '<i class="fas fa-search"></i> Analizar palabras';
                    analyzeGrammarBtn.classList.remove('pulse');
                } else {
                    showTranslationBtn.innerHTML = '<i class="fas fa-language"></i> Mostrar traducción';
                    showTranslationBtn.classList.remove('pulse');
                }
            });
            
            // Botón para analizar gramática
            analyzeGrammarBtn.addEventListener('click', () => {
                grammarContent.classList.toggle('show');
                
                // Cambiar texto del botón
                if (grammarContent.classList.contains('show')) {
                    analyzeGrammarBtn.innerHTML = '<i class="fas fa-eye-slash"></i> Ocultar análisis';
                    analyzeGrammarBtn.classList.add('pulse');
                    
                    // Cerrar traducción si está abierta
                    translationContent.classList.remove('show');
                    showTranslationBtn.innerHTML = '<i class="fas fa-language"></i> Mostrar traducción';
                    showTranslationBtn.classList.remove('pulse');
                } else {
                    analyzeGrammarBtn.innerHTML = '<i class="fas fa-search"></i> Analizar palabras';
                    analyzeGrammarBtn.classList.remove('pulse');
                }
            });
            
            // Cerrar tooltip al hacer clic en cualquier parte
            document.addEventListener('click', (e) => {
                if (!e.target.classList.contains('hebrew-word') && !e.target.classList.contains('vowel-card')) {
                    wordTooltip.classList.remove('show');
                }
                
                // Solo crear partículas si no es en un input o botón específico
                if (!e.target.matches('input, button, .letter-btn, .play-sound-btn, .hebrew-word, .vowel-card')) {
                    createParticles(e);
                }
            });
            
            // Redibujar tabla cuando cambie el tamaño de la ventana
            window.addEventListener('resize', () => {
                renderAlphabetTable(letterSearch.value);
            });
        }

        // Leer versículo en voz alta
        function readVerseAloud() {
            const verseText = verseData.translation;
            
            // Resaltar todo el versículo
            const words = hebrewVerse.querySelectorAll('.hebrew-word');
            words.forEach(word => {
                word.classList.add('highlight');
            });
            
            // Quitar resaltado después de un tiempo
            setTimeout(() => {
                words.forEach(word => {
                    word.classList.remove('highlight');
                });
            }, 4000);
            
            // Mostrar notificación
            showNotification('Reproduciendo Génesis 1:1 en español', 'info');
            
            // Usar síntesis de voz si está disponible
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(verseText);
                utterance.lang = 'es-ES';
                utterance.rate = 0.8;
                utterance.pitch = 1;
                
                // Resaltar palabras mientras se leen (simulación)
                const wordDelay = 4000 / verseData.words.length;
                verseData.words.forEach((word, index) => {
                    setTimeout(() => {
                        highlightWord(index);
                    }, index * wordDelay);
                });
                
                window.speechSynthesis.speak(utterance);
            }
        }

        // Pronunciar letra (simulación)
        function pronounceLetter(letterName) {
            showNotification(`Pronunciando: ${letterName}`);
            
            // Simular sonido con la API de síntesis de voz si está disponible
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(letterName);
                utterance.lang = 'es-ES';
                utterance.rate = 0.8;
                window.speechSynthesis.speak(utterance);
            }
        }

        // Pronunciar ejemplo de vocal
        function pronounceVowelExample(example) {
            const exampleText = example.split(' ')[1] || example;
            showNotification(`Ejemplo: ${example}`);
            
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(exampleText);
                utterance.lang = 'es-ES';
                utterance.rate = 0.7;
                window.speechSynthesis.speak(utterance);
            }
        }

        // Pronunciar palabra
        function pronounceWord(word) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(word);
                utterance.lang = 'es-ES';
                utterance.rate = 0.7;
                window.speechSynthesis.speak(utterance);
            }
        }

        // Actualizar progreso
        function updateProgress() {
            const learnedCount = learnedLetters.size;
            const percentage = Math.round((learnedCount / totalLetters) * 100);
            
            // Actualizar barra de progreso
            progressFill.style.width = `${percentage}%`;
            progressPercent.textContent = `${percentage}%`;
            
            // Mostrar notificación si se completó
            if (learnedCount === totalLetters) {
                showNotification('¡Felicidades! Has aprendido todas las letras del alfabeto hebreo.', 'success');
            }
        }

        // Desplazar a una letra específica en la tabla
        function scrollToLetter(index) {
            const rows = alphabetTableBody.querySelectorAll('tr');
            if (rows[index]) {
                rows[index].scrollIntoView({ behavior: 'smooth', block: 'center' });
                
                // Efecto visual
                rows[index].style.backgroundColor = 'rgba(143, 26, 26, 0.15)';
                setTimeout(() => {
                    rows[index].style.backgroundColor = '';
                }, 2000);
            }
        }

        // Mostrar notificación
        function showNotification(message, type = 'info') {
            // Crear elemento de notificación
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#4cc9f0' : '#8f1a1a'};
                color: white;
                padding: 15px 25px;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                z-index: 1000;
                transform: translateX(100%);
                opacity: 0;
                transition: transform 0.3s ease, opacity 0.3s ease;
                max-width: 300px;
            `;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : 'info-circle'}" style="margin-right: 10px;"></i>
                ${message}
            `;
            
            document.body.appendChild(notification);
            
            // Animar entrada
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
                notification.style.opacity = '1';
            }, 10);
            
            // Remover después de 3 segundos
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                notification.style.opacity = '0';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Crear partículas animadas
        function createParticles(source) {
            const rect = source.getBoundingClientRect ? source.getBoundingClientRect() : { left: source.clientX, top: source.clientY, width: 0, height: 0 };
            const x = rect.left + (rect.width / 2) || source.clientX;
            const y = rect.top + (rect.height / 2) || source.clientY;
            
            for (let i = 0; i < 8; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                // Tamaño y color aleatorio
                const size = Math.random() * 10 + 5;
                const colors = ['#8f1a1a', '#2e7d32', '#ff9800', '#4cc9f0'];
                const color = colors[Math.floor(Math.random() * colors.length)];
                
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.backgroundColor = color;
                particle.style.left = `${x}px`;
                particle.style.top = `${y}px`;
                
                document.body.appendChild(particle);
                
                // Animación
                const angle = Math.random() * Math.PI * 2;
                const velocity = Math.random() * 50 + 30;
                const vx = Math.cos(angle) * velocity;
                const vy = Math.sin(angle) * velocity;
                
                let opacity = 0.7;
                let posX = x;
                let posY = y;
                
                const animate = () => {
                    opacity -= 0.02;
                    posX += vx * 0.1;
                    posY += vy * 0.1;
                    
                    particle.style.opacity = opacity;
                    particle.style.left = `${posX}px`;
                    particle.style.top = `${posY}px`;
                    
                    if (opacity > 0) {
                        requestAnimationFrame(animate);
                    } else {
                        document.body.removeChild(particle);
                    }
                };
                
                animate();
            }
        }

        // Animación inicial de las letras
        function animateLetters() {
            const letterButtons = document.querySelectorAll('.letter-btn');
            letterButtons.forEach((btn, index) => {
                setTimeout(() => {
                    btn.style.transform = 'scale(1.2)';
                    btn.style.boxShadow = '0 8px 15px rgba(143, 26, 26, 0.3)';
                    
                    setTimeout(() => {
                        btn.style.transform = '';
                        btn.style.boxShadow = '0 4px 6px rgba(0, 0, 0, 0.1)';
                    }, 300);
                }, index * 50);
            });
        }

        // Efecto de escritura para el ejemplo bíblico
        function typeWriterEffect() {
            const words = hebrewVerse.querySelectorAll('.hebrew-word');
            words.forEach((word, index) => {
                word.style.opacity = '0';
                setTimeout(() => {
                    word.style.transition = 'opacity 0.5s ease';
                    word.style.opacity = '1';
                    
                    // Efecto de partículas para cada palabra
                    createParticles(word);
                }, index * 100);
            });
        }

        // Resaltar secuencialmente el versículo
        function highlightVerseSequence() {
            const words = hebrewVerse.querySelectorAll('.hebrew-word');
            words.forEach((word, index) => {
                setTimeout(() => {
                    word.classList.add('highlight');
                    setTimeout(() => {
                        word.classList.remove('highlight');
                    }, 500);
                }, index * 300);
            });
        }

        // Iniciar efecto de secuencia después de unos segundos
        setTimeout(() => {
            highlightVerseSequence();
        }, 3000);
    </script>
</body>
</html>
